#include <Arduino.h>
#include <Adafruit_TinyUSB.h>

// Test pins by manually toggling them
#define TEST_CS    9   // P0.09
#define TEST_SCK   38  // P1.06
#define TEST_MOSI  36  // P1.04

void setup() {
    Serial.begin(115200);
    delay(3000);
    
    Serial.println("\n========================================");
    Serial.println("Pin Wiggle Test - Use oscilloscope/LED");
    Serial.println("========================================");
    Serial.println("Pins will toggle every 500ms");
    Serial.println("Connect LED+resistor or scope to verify:");
    Serial.print("  CS   = pin "); Serial.println(TEST_CS);
    Serial.print("  SCK  = pin "); Serial.println(TEST_SCK);
    Serial.print("  MOSI = pin "); Serial.println(TEST_MOSI);
    Serial.println("========================================\n");
    
    pinMode(TEST_CS, OUTPUT);
    pinMode(TEST_SCK, OUTPUT);
    pinMode(TEST_MOSI, OUTPUT);
}

void loop() {
    static unsigned long lastToggle = 0;
    static bool state = false;
    
    if (millis() - lastToggle >= 500) {
        lastToggle = millis();
        state = !state;
        
        digitalWrite(TEST_CS, state);
        digitalWrite(TEST_SCK, state);
        digitalWrite(TEST_MOSI, state);
        
        Serial.print("Pins = ");
        Serial.println(state ? "HIGH" : "LOW");
    }
}
